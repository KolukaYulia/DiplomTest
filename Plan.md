# План работы на дипломным проектом.

## Перечень автоматизируемых сценариев.
### Валидные данные
1. Номер карты. Содержит 16 цифр. Например, одобренная карта "4444444444444441", отклоненная карта "4444444444444442".
2. Владелец карты. Содержит 2 слова на латинице через пробел, максимально 21 символ (латинские буквы и пробел). Например, "Ivan Ivanov"
3. Срок действия карты. Содержит 4 цифры через /. Первые 2 цифры номер месяца, следующие 2 цифры - текущий или следующие года, не более 6 лет. Например, "07/23".
4. CVC-код. Содержит 3 цифры. Например, "123".
### Позитивные сценарии оплаты по одобренной карте.
#### 1. Позитивный сценарий оплаты по дебетовой одобренной карте.
* Описание. "При вводе валидных данных одобренной карты на странице оплаты по дебетовой карте оплата совершается успешно".
* Шаги.
 1. Нажать кнопку "Купить"
 2. Ввести валидные значения номера одобренной карты, имя владельца карты, срок действия карты, CVC-код
 3. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Успешно". В базе данных статус операции "APPROVED"
#### 2. Позитивный сценарий оплаты с получением кредита по одобренной карте.
* Описание. "При вводе валидных данных одобренной карты на странице оплаты с получением кредита оплата совершается успешно".
* Шаги.
 1. Нажать кнопку "Купить в кредит"
 2. Ввести валидные значения номера одобренной карты, имя владельца карты, срок действия карты, CVC-код
 3. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Успешно". В базе данных статус операции "APPROVED"
### Негативные сценарии оплаты по отклоненной карте.
#### 1. Негативный сценарий оплаты по дебетовой отклоненной карте.
* Описание. "При вводе валидных данных отклоненной карты на странице оплаты по дебетовой карте оплата не совершается".
* Шаги.
 1. Нажать кнопку "Купить"
 2. Ввести валидные значения номера отклоненной карты, имя владельца карты, срок действия карты, CVC-код
 3. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Отклонено". В базе данных статус операции "DECLINED"
#### 2. Негативный сценарий оплаты с получением кредита по отклоненной карте.
* Описание. "При вводе валидных данных отклоненной карты на странице оплаты с получением кредита оплата не совершается".
* Шаги.
 1. Нажать кнопку "Купить в кредит"
 2. Ввести валидные значения номера отклоненной карты, имя владельца карты, срок действия карты, CVC-код
 3. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Отклонено". В базе данных статус операции "DECLINED"
### Негативные сценарии валидации полей формы оплаты по дебетовой карте.   
#### 1. Валидация поля "Номер карты".
##### 1.1. Валидация поля "Номер карты". Карта не из списка.
* Описание. "При вводе валидного значения номера карты не из списка на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ввести номер карты не из списка, содержащий 16 цифр.
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный номер карты".
##### 1.2. Валидация поля "Номер карты". Номер карты содержит букву.
* Описание. "При вводе буквы в номере карты на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ввести значение, содержащие 15 цифр и 1 букву на латинице
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный номер карты".
##### 1.3. Валидация поля "Номер карты". Номер карты на одну цифру меньше.
* Описание. "При вводе номера карты 15 цифр на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ввести значение, содержащие 15 цифр
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный номер карты".
##### 1.4. Валидация поля "Номер карты". Номер карты на одну цифру больше.
* Описание. "При вводе номера карты 17 цифр на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ввести значение, содержащие 17 цифр
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный номер карты".
##### 1.5. Валидация поля "Номер карты". Номер карты содержит спецсимвол.
* Описание. "При вводе спецсимвола в номере карты на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ввести значение, содержащие 15 цифр и спецсимвол (например, №)
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный номер карты". 
##### 1.6. Валидация поля "Номер карты". Поле пустое.
* Описание. "Если в поле "Номер карты" ничего не вводить на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Номер карты" ничего не вводить,
 3. Ввести валидные значения имя владельца карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Введите номер карты".
#### 2. Валидация поля "Владелец карты".
##### 2.1. Валидация поля "Владелец карты". Поле содержит русскую букву.
* Описание. "При вводе имени владельца карты, содержащего русскую букву на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Владелец карты" ввести 1 слово на латинице, пробел, во 2-е слово на латинице добавить русскую букву.
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверное имя владельца карты".
##### 2.2. Валидация поля "Владелец карты". Поле содержит 22 символа.
* Описание. "При вводе имени владельца карты, содержащего 22 символа (латинские буквы и пробел) на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Владелец карты" ввести 22 символа (латинские буквы и пробел).
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверное имя владельца карты".
##### 2.3. Валидация поля "Владелец карты". Поле содержит 1 латинскую букву.
* Описание. "При вводе имени владельца карты, содержащего 1 латинскую букву на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Владелец карты" ввести 1 латинскую букву.
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверное имя владельца карты".
##### 2.4. Валидация поля "Владелец карты". Поле содержит цифру.
* Описание. "При вводе имени владельца карты, содержащего цифру на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Владелец карты" ввести 1 слово на латинице, пробел, во 2-е слово на латинице добавить цифру.
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверное имя владельца карты".
##### 2.5. Валидация поля "Владелец карты". Поле содержит 2 латинские буквы с пробелом между ними.
* Описание. "При вводе имени владельца карты, содержащего 2 латинские буквы с пробелом между ними на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Владелец карты" ввести 2 латинские буквы с пробелом между ними.
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверное имя владельца карты".
##### 2.6. Валидация поля "Владелец карты". Поле пустое.
* Описание. "Если в поле "Владелец карты" ничего не вводить на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. Поле "Владелец карты" оставить пустым.
 3. Ввести валидные значения номера карты, срок действия карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Введите имя владельца карты".
#### 3. Валидация поля "Срок карты".
##### 3.1. Валидация поля "Срок карты". Прошедший срок.
* Описание. "При вводе срока карты прошедшего периода на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Срок карты" ввести прошедший месяц ("05/23").
 3. Ввести валидные значения номера карты, имя владельца карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный срок карты".
##### 3.2. Валидация поля "Срок карты". 13-ый месяц.
* Описание. "При вводе срока карты, содержащего 13-ый месяц на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Срок карты" ввести 13-ый месяц ("13/23").
 3. Ввести валидные значения номера карты, имя владельца карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный срок карты".
##### 3.3. Валидация поля "Срок карты". Срок более 6-ти лет от текущего месяца.
* Описание. "При вводе срока карты более 6-ти лет от текущего месяца на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "Срок карты" ввести срок более 6-ти лет от текущего месяца ("07/29").
 3. Ввести валидные значения номера карты, имя владельца карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный срок карты".
##### 3.4. Валидация поля "Срок карты". Поле пустое.
* Описание. "Если в поле "Срок карты" ничего не вводить на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. Поле "Срок карты" оставить пустым.
 3. Ввести валидные значения номера карты, имя владельца карты, CVC-код в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Введите срок карты".
#### 4. Валидация поля "CVC-код".
##### 4.1. Валидация поля "CVC-код". 2 цифры.
* Описание. "При вводе CVC-код,содержащего 2 цифры  на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "CVC-код" ввести 2 цифры .
 3. Ввести валидные значения номера карты, имя владельца карты, срок карты в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный CVC-код".
##### 4.2. Валидация поля "CVC-код". 4 цифры.
* Описание. "При вводе CVC-код,содержащего 4 цифры на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "CVC-код" ввести 4 цифры .
 3. Ввести валидные значения номера карты, имя владельца карты, срок карты в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный CVC-код".
##### 4.3. Валидация поля "CVC-код". Содержит букву.
* Описание. "При вводе CVC-код,содержащего букву на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. В поле "CVC-код" ввести 2 цифры и 1 букву .
 3. Ввести валидные значения номера карты, имя владельца карты, срок карты в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Неверный CVC-код".
##### 4.4. Валидация поля "CVC-код". Поле пустое.
* Описание. "Если в поле "CVC-код" ничего не вводить на странице оплаты отображается ошибка"
* Шаги.
 1. Нажать кнопку "Купить"
 2. Поле "CVC-код" оставить пустым.
 3. Ввести валидные значения номера карты, имя владельца карты, срок карты в соответствующие поля
 4. Подтвердить
* Ожидаемый результат. Сообщение на странице оплаты "Введите CVC-код".
### Негативные сценарии валидации полей формы оплаты с получением кредита. 
Проводим аналогичные сценарии п.п. 1.1 - 4.4. Шаг 1. Нажать кнопку "Купить в кредит"


## Перечень используемых инструментов с обоснованием выбора.

1.	IntelliJ IDEA: среда разработки, в которой пишем код
2.	Docker (чтобы работало окружение тестирования),
3.	TestContainers (чтобы при тестировании автоматически запускались необходимые контейнеры Docker при запуске тестов)
4.	Selenide, Selenoid (чтобы писать код, который используется именно под тестирование веб-приложения).
5.	JUnit (для тестирования отдельных участков кода, например, методов или классов)
6.	Facker (для генерации данных)
7.	Gradle (инструмент для сборки)

## Перечень и описание возможных рисков при автоматизации.

1. Временной риск. Автоматизация занимает много времени в начале этапа, когда подготавливаются тесты и инфраструктура для их выполнения.
2. Не полное покрытие тестирования. При автоматизации есть возможность не учесть все негативные сценарии (из-за нехватки тестовых данных и/или тестового окружения, например).
3. Ошибки в программировании. Вероятность допустить ошибки в написании кода.
4. Сложности страницы приложения. Могут возникнуть трудности с поиском элементов на странице приложения (например, неуникальные идентификаторы).

## Интервальная оценка с учётом рисков в часах.

1. Подготовка проекта в IDEA, окружения и базы данных, подключение к виртуальной машине - 8 часов
2. Написание методов, автотестов, тестирование и отладка автотестов - 24 часа
3. Формирование и анализ отчетности - 8 часов.

## План сдачи работ: когда будут готовы автотесты, результаты их прогона.

1.	Настройка проекта, окружения и базы данных, подключение к виртуальной машине – до 30.06.2023
2.	Написание методов и автотестов, прогон тестов – до 07.07.2023
3.	Подготовка отчетности, сдача на проверку – до 11.07.2023

